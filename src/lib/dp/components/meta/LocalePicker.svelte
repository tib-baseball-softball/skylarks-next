<script lang="ts">
  import {goto} from "$app/navigation";
  import {page} from "$app/state";
  import {appLocale} from "$lib/dp/locale.svelte.ts";

  async function reload() {
    await goto(page.url, {
      noScroll: true,
      keepFocus: true,
      invalidateAll: true,
    });
    const htmlElement = document.querySelector("html");

    if (htmlElement) {
      htmlElement.lang = appLocale.current;
    }
  }
</script>

<select bind:value={appLocale.current} class="select" onchange={reload}>
  <option value="en">ðŸ‡ºðŸ‡¸</option>
  <option value="de">ðŸ‡©ðŸ‡ª</option>
  <option value="fr">ðŸ‡«ðŸ‡·</option>
  <option value="es">ðŸ‡ªðŸ‡¸</option>
  <option value="pl">ðŸ‡µðŸ‡±</option>
</select>


<style>
  select {
    font-size: 1.5rem;
  }

  option {
    font-size: 2rem;
  }
</style>
